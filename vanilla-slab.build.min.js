!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.VanillaSlab=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return r(n?n:t)},f,f.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){var n=function(){return{init:t("./init"),slabify:t("./slabify"),verifyString:t("./verify-string"),getItemWidth:t("./get-item-width")}};e.exports=n},{"./get-item-width":2,"./init":3,"./slabify":5,"./verify-string":6}],2:[function(t,e){var n=function(t,e){var n=e||"12px arial",i=document.createElement("div");i.style.position="absolute",i.style.float="left",i.style.whiteSpace="nowrap",i.style.visibility="hidden",i.style.fontSize=n,i.innerHTML=t,document.body.appendChild(i);var r=i.offsetWidth;return document.body.removeChild(i),r};e.exports=n},{}],3:[function(t,e){function n(t){var e=t||{};if(this.settings={selector:e.selector||".js-vanilla-slab",maxFontSize:e.maxFontSize||300,minWordsPerLine:e.minWordsPerLine||2,maxWordsPerLine:e.maxWordsPerLine||5,minCharsPerLine:e.minCharsPerLine||20,fontRatio:e.fontRatio||.95,raf:e.raf||!0,postTweak:e.postTweak||!0},!document.querySelector(this.settings.selector))throw new Error('Element with class of "'+this.settings.selector+'" not found on page.');var n=document.querySelectorAll(this.settings.selector);this.targets=[];var r=parseInt(window.getComputedStyle(n[0],null).getPropertyValue("font-size")||n[0].currentStyle.fontSize,10);this.original_font_size=r;for(var o=0;o<n.length;o++){var s=n[o],a=s.innerHTML.split(" ");this.targets.push({element:s,words:a,id:s.textContent,lines:""}),this.slabify(s,a),i("resize",this.slabify,300,e.raf,this,[s,a])}}var i=t("../utils/debounce");e.exports=n},{"../utils/debounce":7}],4:[function(t,e){function n(t,e,n){t.style.fontSize=n,t.style.wordSpacing=1,t.style.letterSpacing=1;var r=t.parentNode.offsetWidth,o=t.offsetWidth,s=r/o*e.fontRatio,a=t.textContent.split(" ").length>1;t.style.fontSize=Math.round(Math.min(e.maxFontSize,(n*s).toPrecision(3))),t.style.display="inline";var l=r-t.offsetWidth;if(l>0&&e.postTweak)if(a){{var f=Math.floor(l/(t.textContent.split(" ").length-1)*e.fontRatio);10*Math.round(f/10)}t.style.wordSpacing=f}else t.style.letterSpacing=l/t.innerHTML.split("").length.toPrecision(3);setTimeout(function(){i(t,e,n,r)},300),t.style.display="block"}function i(t,e,i,r){t.style.display="inline",t.style.whiteSpace="nowrap",t.offsetWidth>r&&n(t,e,i),t.style.display="block",t.style.whiteSpace="normal"}e.exports=n},{}],5:[function(t,e){var n=t("./set-font"),i=function(t,e){{var i=this.settings,r=t.parentNode,o=r.offsetWidth-(parseInt(window.getComputedStyle(r,null).getPropertyValue("padding-left"),10)+parseInt(window.getComputedStyle(r,null).getPropertyValue("padding-right"),10));Math.min(o/i.buffer)}t.style.lineHeight=1;for(var s=[],a=0;a<this.targets.length;a++){var l=this.targets[a];for(var f in l)l[f]===t.textContent&&(l.lines=s)}var u="",d="",p=Math.max(this.settings.minCharsPerLine,Math.floor(o/(this.original_font_size*i.fontRatio)));this.chars_per_line=p;for(var h=0;h<e.length;h++){var c=h===e.length-1;d=u+e[h]+" ";var y=this.verifyString(u),g=this.verifyString(d);(c||y||g)&&(c||y||!g)?!c&&y&&g?u=d:c||!y||g?c&&y&&!g?(s.push(u.trim()),s.push(e[h])):s.push(d.trim()):(s.push(u.trim()),u=""+e[h]+" "):u=d}t.innerHTML="";for(var m=0;m<s.length;m++){var v=document.createElement("span");v.innerHTML=s[m],t.appendChild(v),n(v,this.settings,this.original_font_size)}};e.exports=i},{"./set-font":4}],6:[function(t,e){var n=function(t){var e=t.trim().split(" ").length,n=t.length;return e>=this.settings.minWordsPerLine&&e<=this.settings.maxWordsPerLine&&n<=this.chars_per_line};e.exports=n},{}],7:[function(t,e){function n(t,e,n,i,r,o){function s(){function n(){a||s(i),a=!0}function i(){a=!1,e.apply(r,o)}var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,a=!1;window.addEventListener(t,function(){n()})}function a(){function i(){e.apply(r,o)}var s;window.addEventListener(t,function(){s&&clearTimeout(s),s=setTimeout(i,n||300)},!1)}return i?s():a()}e.exports=n},{}]},{},[1])(1)});